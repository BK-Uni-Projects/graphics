<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <title></title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <link rel="stylesheet" href="reveal.js/css/reveal.min.css"/>
    <style type="text/css">code{white-space: pre;}</style>
    <link rel="stylesheet" href="reveal.js/css/theme/simple.css" id="theme">
    <!-- If the query includes 'print-pdf', include the PDF print sheet -->
    <script>
      if( window.location.search.match( /print-pdf/gi ) ) {
        var link = document.createElement( 'link' );
        link.rel = 'stylesheet';
        link.type = 'text/css';
        link.href = 'reveal.js/css/print/pdf.css';
        document.getElementsByTagName( 'head' )[0].appendChild( link );
      }
    </script>
    <!--[if lt IE 9]>
    <script src="reveal.js/lib/js/html5shiv.js"></script>
    <![endif]-->
</head>
<body>
  <div class="reveal">
    <div class="slides">


<section><section id="lincoln-lectures-on-graphics---04" class="titleslide slide level1"><h1>Lincoln Lectures On Graphics - 04</h1></section></section>
<section><section id="stepping-through-gltrianglewhite" class="titleslide slide level1"><h1>Stepping through glTriangleWhite</h1></section><section id="stepping-through-gltrianglewhite-1" class="slide level2">
<h1>Stepping through glTriangleWhite</h1>
<ul>
<li>We'll walk through all the code for <code>glTriangleWhite</code>
<ul>
<li>it's just main.cpp that we're interested in</li>
<li><a href="https://github.com/shearer12345/graphics_examples_in_git_branches/blob/glTriangleWhite/main.cpp" class="uri">https://github.com/shearer12345/graphics_examples_in_git_branches/blob/glTriangleWhite/main.cpp</a></li>
</ul></li>
<li>We'll walk through starting at the global variables, then the entry point (main)</li>
</ul>
</section></section>
<section><section id="code-in-execution-order-here-also" class="titleslide slide level1"><h1>Code in execution order here also</h1></section></section>
<section><section id="global-variables" class="titleslide slide level1"><h1>Global Variables</h1></section><section id="sdl-variables" class="slide level2">
<h1>SDL Variables</h1>
<pre class="c++"><code>SDL_Window *win; //pointer to the SDL_Window
SDL_GLContext context; //the SDL_GLContext
GLuint theProgram; //GLuint that we&#39;ll fill in to refer to the GLSL program (only have 1 at this point)</code></pre>
</section><section id="string-holding-the-source-of-our-vertex-shader" class="slide level2">
<h1>string holding the <strong>source</strong> of our vertex shader</h1>
<pre class="c++"><code>//string holding the **source** of our vertex shader, to save loading from a file
const std::string strVertexShader(
    &quot;#version 330\n&quot;
    &quot;layout(location = 0) in vec4 position;\n&quot;
    &quot;void main()\n&quot;
    &quot;{\n&quot;
    &quot;   gl_Position = position;\n&quot;
    &quot;}\n&quot;
    );</code></pre>
</section><section id="string-holding-the-source-of-our-fragment-shader" class="slide level2">
<h1>string holding the <strong>source</strong> of our fragment shader</h1>
<pre class="c++"><code>//string holding the **source** of our fragment shader, to save loading from a file
const std::string strFragmentShader(
    &quot;#version 330\n&quot;
    &quot;out vec4 outputColor;\n&quot;
    &quot;void main()\n&quot;
    &quot;{\n&quot;
    &quot;   outputColor = vec4(1.0f, 1.0f, 1.0f, 1.0f);\n&quot;
    &quot;}\n&quot;
    );</code></pre>
</section><section id="our-variables" class="slide level2">
<h1>our variables</h1>
<pre class="c++"><code>const float vertexPositions[] = {
    0.0f, 0.5f, 0.0f, 1.0f,
    -0.4330127f, -0.25f, 0.0f, 1.0f,
    0.4330127f, -0.25f, 0.0f, 1.0f,
};</code></pre>
</section><section id="our-opengl-variables" class="slide level2">
<h1>our OpenGL variables</h1>
<pre class="c++"><code>GLuint theProgram; //GLuint that we&#39;ll fill in to refer to the GLSL program (only have 1 at this point)
GLuint positionBufferObject;
GLuint vao;</code></pre>
<ul>
<li>note the variable <code>theProgram</code> is actually higher up in the source, but is more sensible here</li>
</ul>
</section></section>
<section><section id="main" class="titleslide slide level1"><h1>main</h1></section><section id="main-page-1---setup" class="slide level2">
<h1>main (page 1 - setup)</h1>
<pre class="c++"><code>int main( int argc, char* args[] )
{

    //setup
    //- do just once
    initialise();
    createWindow();
    setGLAttributes();
    createContext();
    initGlew();


    //load stuff from files
    //- usually do just once
    loadAssets();</code></pre>
</section><section id="main-page-2---loop" class="slide level2">
<h1>main (page 2 - loop)</h1>
<pre class="c++"><code>    //LOOP FROM HERE - PLACEHOLDER

        //GET INPUT HERE - PLACEHOLDER

        //UPDATE SIMULATION - PLACEHOLDER

        glClear(GL_COLOR_BUFFER_BIT);

        render(); //RENDER HERE - PLACEHOLDER
        
        SDL_GL_SwapWindow(win);; //present the frame buffer to the display (swapBuffers)

    //LOOP TO HERE - PLACEHOLDER
</code></pre>
</section><section id="main-page-3---close" class="slide level2">
<h1>main (page 3 - close)</h1>
<pre class="c++"><code>    //not looping, so delay so we can see what it does
    SDL_Delay(2000); //Wait for 2 seconds before exiting

    
    //cleanup and exit
    cleanUp();
    SDL_Quit();

    return 0;
}</code></pre>
</section></section>
<section><section id="setup" class="titleslide slide level1"><h1>setup</h1></section><section id="initialise" class="slide level2">
<h1>initialise</h1>
<pre class="c++"><code>void initialise()
{
    if (SDL_Init(SDL_INIT_EVERYTHING) != 0){
        cout &lt;&lt; &quot;SDL_Init Error: &quot; &lt;&lt; SDL_GetError() &lt;&lt; std::endl;
        exit(1);
    }
    cout &lt;&lt; &quot;SDL initialised OK!\n&quot;;
}</code></pre>
</section><section id="createwindow" class="slide level2">
<h1>createWindow</h1>
<pre class="c++"><code>void createWindow()
{
    win = SDL_CreateWindow(&quot;Hello World!&quot;, 100, 100, 600, 600, SDL_WINDOW_OPENGL); //same height and width makes the window square ...
    if (win == nullptr)
    {
        std::cout &lt;&lt; &quot;SDL_CreateWindow Error: &quot; &lt;&lt; SDL_GetError() &lt;&lt; std::endl;
        SDL_Quit();
        exit(1);
    }
    cout &lt;&lt; &quot;SDL CreatedWindow OK!\n&quot;;
}</code></pre>
</section><section id="setglattributes" class="slide level2">
<h1>setGLAttributes</h1>
<pre class="c++"><code>void setGLAttributes()
{
    // set the opengl context version
    int major = 3;
    int minor = 3;
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MAJOR_VERSION, major);
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_MINOR_VERSION, minor);
    SDL_GL_SetAttribute(SDL_GL_CONTEXT_PROFILE_MASK, SDL_GL_CONTEXT_PROFILE_CORE); //core profile
    cout &lt;&lt; &quot;Set OpenGL context to version &quot; &lt;&lt; major &lt;&lt; &quot;.&quot; &lt;&lt; minor &lt;&lt; &quot; OK!\n&quot;;
}</code></pre>
</section><section id="createcontext" class="slide level2">
<h1>createContext</h1>
<pre class="c++"><code>
void createContext()
{
    context = SDL_GL_CreateContext(win);
    if (context == nullptr){
        SDL_DestroyWindow(win);
        std::cout &lt;&lt; &quot;SDL_GL_CreateContext Error: &quot; &lt;&lt; SDL_GetError() &lt;&lt; std::endl;
        SDL_Quit();
        exit(1);
    }
    cout &lt;&lt; &quot;Created OpenGL context OK!\n&quot;;
}</code></pre>
</section><section id="initglew" class="slide level2">
<h1>initGlew</h1>
<pre class="c++"><code>void initGlew()
{
    GLenum rev;
    glewExperimental = GL_TRUE; //GLEW isn&#39;t perfect - see https://www.opengl.org/wiki/OpenGL_Loading_Library#GLEW
    rev = glewInit();
    if (GLEW_OK != rev){
        std::cout &lt;&lt; &quot;GLEW Error: &quot; &lt;&lt; glewGetErrorString(rev) &lt;&lt; std::endl;
        SDL_Quit();
        exit(1);
    }
    else {
        cout &lt;&lt; &quot;GLEW Init OK!\n&quot;;
    }
}</code></pre>
</section></section>
<section><section id="load-assets" class="titleslide slide level1"><h1>Load Assets</h1></section><section id="load-assets-1" class="slide level2">
<h1>Load Assets</h1>
<pre class="c++"><code>void loadAssets()
{
    initializeProgram(); //create GLSL Shaders, link into a GLSL program

    initializeVertexBuffer(); //load data into a vertex buffer

    glGenVertexArrays(1, &amp;vao); //create a Vertex Array Object
    glBindVertexArray(vao); //make the VAO active
    cout &lt;&lt; &quot;Vertex Array Object created OK! GLUint is: &quot; &lt;&lt; vao &lt;&lt; std::endl;

    cout &lt;&lt; &quot;Loaded Assets OK!\n&quot;;
}</code></pre>
</section></section>
    </div>
  </div>


  <script src="reveal.js/lib/js/head.min.js"></script>
  <script src="reveal.js/js/reveal.min.js"></script>

  <script>

      // Full list of configuration options available here:
      // https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        controls: true,
        progress: true,
        history: true,
        center: true,
        theme: 'sky', // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'default', // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
          { src: 'reveal.js/lib/js/classList.js', condition: function() { return !document.body.classList; } },
          { src: 'reveal.js/plugin/zoom-js/zoom.js', async: true, condition: function() { return !!document.body.classList; } },
          { src: 'reveal.js/plugin/notes/notes.js', async: true, condition: function() { return !!document.body.classList; } },
//          { src: 'reveal.js/plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; }, }
//          { src: 'reveal.js/plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
]});
    </script>
    </body>
</html>
